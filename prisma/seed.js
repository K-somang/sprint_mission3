import { PrismaClient } from '@prisma/client';
const prisma = new PrismaClient();

async function main() {
  console.log('ðŸŒ± ì‹œë“œ ë°ì´í„° ìƒì„± ì‹œìž‘...');

/*   // ê¸°ì¡´ ë°ì´í„° ì‚­ì œ (ì„ íƒì‚¬í•­)
  await prisma.comment.deleteMany();
  await prisma.product.deleteMany();
  await prisma.article.deleteMany(); */

  // ìƒí’ˆ ë°ì´í„° ìƒì„±
  const products = await prisma.product.createMany({
    data: [
      {
        name: "iPhone 13 Pro",
        description: "ê±°ì˜ ìƒˆê²ƒ ê°™ì€ ì•„ì´í° 13 í”„ë¡œìž…ë‹ˆë‹¤. ì•¡ì • ë³´í˜¸í•„ë¦„ê³¼ ì¼€ì´ìŠ¤ ì‚¬ìš©ìœ¼ë¡œ ìŠ¤í¬ëž˜ì¹˜ ì—†ìŠµë‹ˆë‹¤.",
        price: 850000,
        tags: ["ì „ìžì œí’ˆ", "ìŠ¤ë§ˆíŠ¸í°", "ì• í”Œ", "ì¤‘ê³ "]
      },
      {
        name: "MacBook Air M2",
        description: "2022ë…„í˜• ë§¥ë¶ ì—ì–´ M2 ëª¨ë¸ìž…ë‹ˆë‹¤. ëŒ€í•™ìƒì´ ì‚¬ìš©í–ˆìœ¼ë©° ìƒíƒœ ì–‘í˜¸í•©ë‹ˆë‹¤.",
        price: 1200000,
        tags: ["ì „ìžì œí’ˆ", "ë…¸íŠ¸ë¶", "ì• í”Œ", "ëŒ€í•™ìƒ"]
      },
      {
        name: "ê²Œì´ë° í‚¤ë³´ë“œ",
        description: "ê¸°ê³„ì‹ í‚¤ë³´ë“œ ì²­ì¶•ìž…ë‹ˆë‹¤. RGB ë°±ë¼ì´íŠ¸ ì§€ì›í•˜ë©° ê²Œìž„ìš©ìœ¼ë¡œ ìµœì í™”ë˜ì–´ ìžˆìŠµë‹ˆë‹¤.",
        price: 120000,
        tags: ["ì „ìžì œí’ˆ", "í‚¤ë³´ë“œ", "ê²Œì´ë°", "ê¸°ê³„ì‹"]
      },
      {
        name: "ë¬´ì„  ë§ˆìš°ìŠ¤",
        description: "ë¡œì§€í… ë¬´ì„  ë§ˆìš°ìŠ¤ìž…ë‹ˆë‹¤. ë°°í„°ë¦¬ ìˆ˜ëª… ê¸¸ê³  ì •í™•ë„ ë†’ìŠµë‹ˆë‹¤.",
        price: 45000,
        tags: ["ì „ìžì œí’ˆ", "ë§ˆìš°ìŠ¤", "ë¡œì§€í…", "ë¬´ì„ "]
      },
      {
        name: "ì±…ìƒ",
        description: "ì›ëª© ì±…ìƒìž…ë‹ˆë‹¤. í¬ê¸° 120x60cmì´ë©° ì„œëž 2ê°œ í¬í•¨ë˜ì–´ ìžˆìŠµë‹ˆë‹¤.",
        price: 180000,
        tags: ["ê°€êµ¬", "ì±…ìƒ", "ì›ëª©", "ì„œëž"]
      }
    ]
  });

  // ê²Œì‹œê¸€ ë°ì´í„° ìƒì„±
  const articles = await prisma.article.createMany({
    data: [
      {
        title: "ì¤‘ê³  ê±°ëž˜ íŒ ê³µìœ í•©ë‹ˆë‹¤",
        content: "ì•ˆì „í•œ ì¤‘ê³  ê±°ëž˜ë¥¼ ìœ„í•œ ëª‡ ê°€ì§€ íŒì„ ê³µìœ ë“œë¦½ë‹ˆë‹¤. ì²«ì§¸, ì§ê±°ëž˜ ì‹œ ê³µê³µìž¥ì†Œì—ì„œ ë§Œë‚˜ì„¸ìš”. ë‘˜ì§¸, ìƒí’ˆ ìƒíƒœë¥¼ ê¼¼ê¼¼ížˆ í™•ì¸í•˜ì„¸ìš”. ì…‹ì§¸, ê³„ì¢Œì´ì²´ë³´ë‹¤ëŠ” í˜„ê¸ˆ ê±°ëž˜ë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤."
      },
      {
        title: "ì „ìžì œí’ˆ êµ¬ë§¤ ì‹œ ì£¼ì˜ì‚¬í•­",
        content: "ì¤‘ê³  ì „ìžì œí’ˆì„ êµ¬ë§¤í•  ë•ŒëŠ” ë‹¤ìŒ ì‚¬í•­ë“¤ì„ í™•ì¸í•´ë³´ì„¸ìš”. ë°°í„°ë¦¬ ìƒíƒœ, í™”ë©´ ìƒíƒœ, ë™ìž‘ í…ŒìŠ¤íŠ¸, A/S ê°€ëŠ¥ ì—¬ë¶€ ë“±ì„ ë¯¸ë¦¬ ì²´í¬í•˜ì‹œê¸° ë°”ëžë‹ˆë‹¤."
      },
      {
        title: "í•™ìš©í’ˆ ë‚˜ëˆ” ì´ë²¤íŠ¸",
        content: "ìƒˆ í•™ê¸°ë¥¼ ë§žì•„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í•™ìš©í’ˆë“¤ì„ ë‚˜ëˆ”í•˜ê³ ìž í•©ë‹ˆë‹¤. í•„ìš”í•˜ì‹  ë¶„ë“¤ì€ ëŒ“ê¸€ë¡œ ì—°ë½ì£¼ì„¸ìš”. ì„ ì°©ìˆœìœ¼ë¡œ ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤."
      },
      {
        title: "ê°€êµ¬ ë°°ì†¡ ê´€ë ¨ ë¬¸ì˜",
        content: "í° ê°€êµ¬ë¥˜ì˜ ê²½ìš° ë°°ì†¡ì´ ì–´ë ¤ìš´ ê²½ìš°ê°€ ë§ŽìŠµë‹ˆë‹¤. ì§ì ‘ í”½ì—… ê°€ëŠ¥í•œ ë¶„ë“¤ê³¼ ê±°ëž˜í•˜ëŠ” ê²ƒì´ ì¢‹ì„ ê²ƒ ê°™ì€ë°, ë‹¤ë¥¸ ë¶„ë“¤ì€ ì–´ë–»ê²Œ í•˜ì‹œë‚˜ìš”?"
      },
      {
        title: "ì‚¬ê¸° í”¼í•´ ì‹ ê³ í•©ë‹ˆë‹¤",
        content: "ìµœê·¼ í—ˆìœ„ ìƒí’ˆ ë“±ë¡ìœ¼ë¡œ ì‚¬ê¸°ë¥¼ ë‹¹í–ˆìŠµë‹ˆë‹¤. ëª¨ë“  ë¶„ë“¤ì´ ì¡°ì‹¬í•˜ì‹œê¸° ë°”ë¼ë©°, ì˜ì‹¬ìŠ¤ëŸ¬ìš´ ê±°ëž˜ëŠ” í”¼í•˜ì‹œê¸¸ ê¶Œí•©ë‹ˆë‹¤."
      }
    ]
  });

  console.log(`âœ… ${products.count}ê°œì˜ ìƒí’ˆì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.`);
  console.log(`âœ… ${articles.count}ê°œì˜ ê²Œì‹œê¸€ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.`);

  // ìƒì„±ëœ ìƒí’ˆê³¼ ê²Œì‹œê¸€ ID ê°€ì ¸ì˜¤ê¸°
  const createdProducts = await prisma.product.findMany();
  const createdArticles = await prisma.article.findMany();

  // ëŒ“ê¸€ ë°ì´í„° ìƒì„±
  const comments = [];
  
  // ìƒí’ˆ ëŒ“ê¸€
  createdProducts.slice(0, 3).forEach((product, index) => {
    comments.push(
      {
        content: "ìƒí’ˆ ìƒíƒœê°€ ì–´ë–¤ê°€ìš”?",
        productId: product.id
      },
      {
        content: "ê°€ê²© ì¡°ê¸ˆ ë” í• ì¸ ê°€ëŠ¥í•œê°€ìš”?",
        productId: product.id
      }
    );
  });

  // ê²Œì‹œê¸€ ëŒ“ê¸€
  createdArticles.slice(0, 3).forEach((article, index) => {
    comments.push(
      {
        content: "ì¢‹ì€ ì •ë³´ ê°ì‚¬í•©ë‹ˆë‹¤!",
        articleId: article.id
      },
      {
        content: "ì €ë„ ê°™ì€ ê²½í—˜ì´ ìžˆë„¤ìš”.",
        articleId: article.id
      }
    );
  });

  const commentsResult = await prisma.comment.createMany({
    data: comments
  });

  console.log(`âœ… ${commentsResult.count}ê°œì˜ ëŒ“ê¸€ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.`);
  console.log('ðŸŽ‰ ì‹œë“œ ë°ì´í„° ìƒì„± ì™„ë£Œ!');
}

main()
  .catch(e => {
    console.error('âŒ ì‹œë“œ ë°ì´í„° ìƒì„± ì¤‘ ì˜¤ë¥˜ ë°œìƒ:', e);
    process.exit(1);
  })
  .finally(async () => {
    await prisma.$disconnect();
  });
